<div class="animated-background">
    <div class="quiz-container" *ngIf="quiz">
        <h2 class="quiz-header">{{ topic }} Quiz</h2>
        <div *ngFor="let item of quiz; let i = index" class="question-card">
            <div>
                <p><strong>Question {{ i + 1 }}:</strong> {{ item.question }}</p>
                <div *ngFor="let option of item.options; let j = index">
                    <label>
                        <input type="radio" [name]="'question' + i" [value]="option.charAt(0)"
                            [(ngModel)]="item.selectedOption" [disabled]="isSubmitted"
                            (change)="selectAnswer(i, option.charAt(0))" />
                        <span [ngClass]="getAnswerClass(i, option.charAt(0))">
                            {{ option }}
                        </span>
                    </label>
                </div>
                <div *ngIf="isSubmitted">
                    <p *ngIf="item.isCorrect" class="correct">Correct!</p>
                    <p *ngIf="!item.isCorrect" class="incorrect">
                        Incorrect. The correct answer is <strong>{{ item.correctAnswer }}</strong>.
                    </p>
                    <p *ngIf="item.explanation">
                        <strong>Explanation:</strong> {{ item.explanation }}
                    </p>
                </div>
            </div>
        </div>
        <button class="submit-btn" (click)="submitQuiz()" [disabled]="isSubmitted">Submit Quiz</button>
    </div>
</div>